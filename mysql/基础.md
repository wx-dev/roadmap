

# 数据库

> 命令连接数据库

```shell
[root@host]# mysql -u root -p
Enter password:******
```

> 命令退出数据库

```shell
mysql> exit
Bye
```

> 创建数据库

```shell
mysql> create DATABASE <数据库名>;
```

> 删除数据库

```shell
drop database <数据库名>;
```

> 选择数据库

```shell
mysql> use <数据库名>;
```



# 数据类型

> 数值类型

- `INT或INTEGER`
- `BIGINT`
- `FLOAT`
- `DOUBLE`

> 日期和时间类型

- `DATE`
- `TIME`
- `YEAR`
- `DATETIME`

- `TIMESTAMP`

> 字符串类型

- `CHAR`
- `VARCHAR`

- `BLOB`
- `TEXT`

- `LONGBLOB`
- `LONGTEXT`

# 数据表

> 创建数据表

```sql
CREATE TABLE IF NOT EXISTS `article`(
   `id` INT UNSIGNED AUTO_INCREMENT,
   `title` VARCHAR(100) NOT NULL,
   `author` VARCHAR(40) NOT NULL,
   `date` DATE,
   PRIMARY KEY ( `id` )
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
```

> 删除表

```sql
drop TABLE table_name;
```

> 插入表

```sql
INSERT INTO table_name (field1, field2, ...fieldN) VALUES (val1, val2,...valN);
```

> 删除表

```sql
delete from article
where id = 2
```

> 更新表

```sql
update article 
set title = 'titlel 999'
where id = 2
```

> 查询表

- 简单查

```sql
select * from article;
```

- 条件查

```sql
select * from article
where id > 3
AND id < 10
OR title = 'wang'
```

- `LIKE`查

```sql
select * from article
where title like '%wang%'
```

- `UNION`和`UNION ALL`

>**UNION 语句**：用于将不同表中相同列中查询的数据展示出来；（不包括重复数据）
>
>**UNION ALL 语句**：用于将不同表中相同列中查询的数据展示出来；（包括重复数据）

```SQL
SELECT 列名称 FROM 表名称 UNION SELECT 列名称 FROM 表名称 ORDER BY 列名称；
SELECT 列名称 FROM 表名称 UNION ALL SELECT 列名称 FROM 表名称 ORDER BY 列名称；
```

```sql
select w.country, w.name from websites w
where w.country = 'CN'
UNION ALL
select a.country, a.app_name from apps a
where a.country = 'CN'
ORDER BY country;
```

- 排序

> `ASC`: 升序 （默认）
>
> `DESC`：降序

```sql
select * from tbl_name
order by id desc
```

- 分组

```sql
select name, count(*) from tbl_name
group by name;
```

- 连接

> `INNER JOIN`（内连接,或等值连接）：获取两个表中字段匹配关系的记录。
> `LEFT JOIN`（左连接）：获取左表所有记录，即使右表没有对应匹配的记录。
> `RIGHT JOIN`（右连接）： 获取右表所有记录，即使左表没有对应匹配的记录。



`INNER JOIN` 内连接

```sql
SELECT
	r.runoob_id,
	r.runoob_author,
	t.runoob_count 
FROM
	runoob_tbl r
	JOIN tcount_tbl t ON r.runoob_author = t.runoob_author
```

等价于

```sql
SELECT
	a.runoob_id,
	a.runoob_author,
	b.runoob_count 
FROM
	runoob_tbl a,
	tcount_tbl b 
WHERE
	a.runoob_author = b.runoob_author;
```

![image](https://www.runoob.com/wp-content/uploads/2014/03/img_innerjoin.gif)





`LEFT JOIN` 左连接

```sql
SELECT
	a.*,
	b.runoob_count 
FROM
	runoob_tbl a
	LEFT JOIN tcount_tbl b ON a.runoob_author = b.runoob_author
```

![image](https://www.runoob.com/wp-content/uploads/2014/03/img_leftjoin.gif)